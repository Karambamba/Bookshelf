<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bookshelf</title>
  </head>
  <body>  <h1>üìö –ú–æ—è –ü—ñ–∫—Å–µ–ª—å–Ω–∞ –®–∞—Ñ–∞</h1>

  <div class="shelf-grid">
    <div class="shelf" data-category="–≤–∞–∂–ª–∏–≤–æ-—Ç–µ—Ä–º—ñ–Ω–æ–≤–æ">
      <h2>üü• –í–∞–∂–ª–∏–≤–æ —ñ –¢–µ—Ä–º—ñ–Ω–æ–≤–æ</h2>
      <div class="boxes" id="shelf-1"></div>
    </div>
    <div class="shelf" data-category="—Ç–µ—Ä–º—ñ–Ω–æ–≤–æ-–Ω–µ–≤–∞–∂–ª–∏–≤–æ">
      <h2>üü® –¢–µ—Ä–º—ñ–Ω–æ–≤–æ —ñ –ù–µ–≤–∞–∂–ª–∏–≤–æ</h2>
      <div class="boxes" id="shelf-2"></div>
    </div>
    <div class="shelf" data-category="–Ω–µ–≤–∞–∂–ª–∏–≤–æ-–Ω–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–æ">
      <h2>üü¶ –ù–µ–≤–∞–∂–ª–∏–≤–æ —ñ –ù–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–æ</h2>
      <div class="boxes" id="shelf-3"></div>
    </div>
    <div class="shelf" data-category="–≤–∞–∂–ª–∏–≤–æ-–Ω–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–æ">
      <h2>üü© –í–∞–∂–ª–∏–≤–æ —ñ –ù–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–æ</h2>
      <div class="boxes" id="shelf-4"></div>
    </div>
  </div>

  <button onclick="addBox()">‚ûï –î–æ–¥–∞—Ç–∏ —è—â–∏–∫</button>
<style>
  body {
  background: #111;
  color: #fff;
  font-family: monospace;
  text-align: center;
  padding: 2rem;
}
.shelf-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.5rem;
  margin-bottom: 2rem;
}
.shelf {
  background: #222;
  border: 2px dashed #444;
  padding: 1rem;
  border-radius: 8px;
}
.boxes {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-top: 1rem;
}
.box {
  background: #333;
  border: 1px solid #555;
  padding: 0.5rem;
  cursor: move;
}</style>
  <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyD7cS8FH80HHQxsVvB76SyFgfatQq9TJuE",
    authDomain: "pixelshelf-e1680.firebaseapp.com",
    projectId: "pixelshelf-e1680",
    storageBucket: "pixelshelf-e1680.firebasestorage.app",
    messagingSenderId: "253121150131",
    appId: "1:253121150131:web:aa9ce817e5b8ee0ddc84c6",
    measurementId: "G-C6NMFS903Q"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
<script>
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getDatabase, ref, push, set, onValue } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

// üîê Firebase config ‚Äî –ó–ê–ú–Ü–ù–ò —Å–≤–æ—ó–º!
const firebaseConfig = {
  apiKey: "–¢–í–û–Ñ",
  authDomain: "–¢–í–û–Ñ",
  databaseURL: "–¢–í–û–Ñ",
  projectId: "–¢–í–û–Ñ",
  storageBucket: "–¢–í–û–Ñ",
  messagingSenderId: "–¢–í–û–Ñ",
  appId: "–¢–í–û–Ñ"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// ‚ûï –î–æ–¥–∞—î —è—â–∏–∫ –Ω–∞ –ø–µ—Ä—à—É –ø–æ–ª–∏—Ü—é
window.addBox = () => {
  const boxName = prompt("–ù–∞–∑–≤–∞ —è—â–∏–∫–∞?");
  if (!boxName) return;

  const refPath = ref(db, "shelves/–≤–∞–∂–ª–∏–≤–æ-—Ç–µ—Ä–º—ñ–Ω–æ–≤–æ");
  const newBox = push(refPath);
  set(newBox, {
    name: boxName,
    books: {}
  });
};

// üîÑ –í–∏–≤—ñ–¥ —É—Å—ñ—Ö —è—â–∏–∫—ñ–≤
function loadAll() {
  const shelfRef = ref(db, "shelves");
  onValue(shelfRef, (snapshot) => {
    const data = snapshot.val();
    if (!data) return;

    Object.keys(data).forEach((shelfKey, i) => {
      const shelfDiv = document.getElementById(`shelf-${i + 1}`);
      shelfDiv.innerHTML = "";

      const boxes = data[shelfKey];
      for (let boxId in boxes) {
        const box = boxes[boxId];
        const boxDiv = document.createElement("div");
        boxDiv.className = "box";
        boxDiv.innerText = box.name;
        shelfDiv.appendChild(boxDiv);
      }
    });
  });
}

loadAll();

</script>
</html>
